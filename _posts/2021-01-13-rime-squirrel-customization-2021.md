---
layout: post
title:  "é¼ é¡»ç®¡é…ç½® 2021"
date:   2021-01-13 01:43 +0800
---

ä»Šå¹´çš„ä¸»é¢˜æ˜¯æ”¾é£è‡ªæˆ‘ï¼Œåšæ›´å¤šå°è¯•ï¼Œå®ç°æ›´é«˜æ•ˆçš„è¾“å…¥ï¼Œè·å¾—é‡èº«å®šåšèˆ¬çš„æˆå°±æ„Ÿã€‚

<img src="/files/2021/squirrel_config_2021.png" alt="squirrel_screenshot_2021" width="50%">

å…ˆå°è¯•äº†[å°é¹¤åŒæ‹¼çš„å½¢ç æ–¹æ¡ˆ](https://bbs.flypy.com/forum.php?mod=viewthread&tid=184)ï¼Œå‘ç°å¹¶ä¸é€‚åˆè‡ªå·±ã€‚é¹¤å½¢ï¼Œåœ¨æ‹¼éŸ³çš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº†ç±»ä¼¼äº”ç¬”çš„æ‹†å­—è§„åˆ™ï¼Œä»¥æœŸé€šè¿‡åŒæ‹¼åŠ å½¢ç æ¥è§£å†³é‡ç é—®é¢˜ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬éœ€è¦ç†Ÿè®°å‡ ä¹æ‰€æœ‰å•å­—å’Œè¯ç»„çš„éŸ³ã€å½¢ç¼–ç ï¼Œè¾“å…¥è¿‡ç¨‹æ‹¼éŸ³ã€äº”ç¬”åŒé‡è¢­è„‘ï¼Œç›¸äº’è§’åŠ›ï¼Œå ªæ¯”ä¸€å¿ƒäºŒç”¨ï¼Œå¯¹äºä¹ æƒ¯äºè¯»éŸ³æ€è€ƒçš„æˆ‘æ¥è¯´ï¼Œèµ·ç‚¹å®åœ¨æœ‰äº›é«˜ã€‚ç©èµ·æ¥å¾ˆæœ‰æ„æ€ï¼Œåªæ˜¯åšæŒä¸ä¸‹å»ã€‚

ä½†æ˜¯ï¼Œè¿™ä¸ªè¿‡ç¨‹åŠ æ·±äº†æˆ‘å¯¹ Rime è¾“å…¥æ³•çš„ç†è§£ï¼Œä¹Ÿå¯å‘äº†æˆ‘å®ç°ä¸€äº›å®šåˆ¶ç‚¹å­çš„æ€è·¯ï¼Œå†å€ŸåŠ©ç½‘ä¸Šå„ä½çš„åˆ†äº«å’Œè´¡çŒ®ï¼Œæ±‡èšæˆä»¥ä¸‹çš„ï¼šé¼ é¡»ç®¡é…ç½® 2021ã€‚

## ä¸»è¦ç‰¹ç‚¹

- å°é¹¤åŒæ‹¼
- 8105 ç®€ä½“å­—
- é•¿å¥æ¨¡å‹
- è¿è´¯è¾“å…¥
- ä¸ªæ€§é€‰è¯

## åŸºæœ¬å¥—è·¯

ä¸»è¦ä¾èµ–é¡¹ï¼š

- è¾“å…¥æ³•å¹³å°ï¼š[é¼ é¡»ç®¡æµ‹è¯•ç‰ˆ](https://dl.bintray.com/rime/squirrel/)
- åŒæ‹¼æ–¹æ¡ˆï¼š[Rime å°é¹¤åŒæ‹¼](https://github.com/rime/rime-double-pinyin/blob/master/double_pinyin_flypy.schema.yaml)
- æ±‰å­—å­—ç¬¦é›†ï¼š[é€šç”¨è§„èŒƒæ±‰å­—](https://github.com/mozillazg/pinyin-data)
- åŸºç¡€è¯åº“1ï¼š[è¢–çç®€åŒ–å­—æ‹¼éŸ³](https://github.com/rime/rime-pinyin-simp)
- åŸºç¡€è¯åº“2ï¼š[ç®€åŒ–å­—å…«è‚¡æ–‡](https://github.com/rime/rime-essay-simp)
- é…ç½®ç®¡ç†ï¼š[ä¸œé£ç ´](https://github.com/rime/plum)
- é•¿å¥æ¨¡å‹ï¼š[å…«è‚¡æ–‡è¯­è¨€æ¨¡å‹](https://github.com/lotem/rime-octagram-data)

Python ç”Ÿæ€ï¼Œåšå‰æœŸæ•°æ®å¤„ç†ï¼Œå¤§è‡´è·¯å¾„å¦‚ä¸‹ï¼š

- å…‹éš†ä¸‹è½½æ–¹æ¡ˆå’Œå­—è¯åº“
- æ¸…ç†å‡ºè§„èŒƒæ±‰å­—åˆ—è¡¨
- ä¸ç®€åŒ–å­—å…«è‚¡æ–‡åŒ¹é…ï¼Œåˆ é™¤ç•Œå¤–å­—è¯
- ä¸è¢–çç®€åŒ–å­—åŒ¹é…ï¼Œåˆ é™¤ç•Œå¤–å­—è¯
- è¿›å…¥ä¸œé£ç ´ï¼Œè£…é…è¯­è¨€æ¨¡å‹
- æˆå“å‚è€ƒï¼š[placeless](https://github.com/placeless)/**[squirrel_config](https://github.com/placeless/squirrel_config)**

## æ–¹æ¡ˆè¯¦è§£

placeless_flypy.schema.yaml

è¿™ä¸ªè¾“å…¥æ–¹æ¡ˆçš„åŸºæœ¬å‰æï¼š**ä¸€æ˜¯ä»…ç”¨é¼ é¡»ç®¡è¾“å…¥ä¸­æ–‡**ï¼Œascii æˆ–è€…è¯´è¥¿æ–‡ï¼Œç›´æ¥ Ctrl + Space åˆ‡åˆ° macOS çš„é»˜è®¤ ABCï¼›**äºŒæ˜¯å°½é‡ä»¥é•¿å¥ä¸ºè¾“å…¥å•å…ƒ**ï¼Œä¸æ‰“æ–­æ•´å¥çš„è¡¨è¾¾èŠ‚å¥ã€‚

```yaml
# Rime schema
# encoding: utf-8

schema:
  schema_id: placeless_flypy
  name: å°é¹¤åŒæ‹¼
  version: "0.1"
  author:
    - double pinyin layout by é¶´
    - Rime schema by ä½›æŒ¯ <chen.sst@gmail.com>
    - Mod by placeless
  description: |
    å°é¹¤åŒæ‹¼è‡ªå®šä¹‰æ–¹æ¡ˆã€‚

# åŸºæœ¬ä¸ç”¨åˆ‡æ¢ï¼Œå› ä¸ºä¸ç”¨æ‰©å±•å­—ç¬¦é›†ï¼Œä¹Ÿä¸ç”¨ emoji
switches: 
  - name: full_shape
    reset: 0
    states: [ åŠè§’, å…¨è§’ ]
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]

# åªæœ‰ç®€åŒ–å­—ä¸­æ–‡ï¼Œæ‰€ä»¥
# åˆ æ‰äº† ascii_composer
# åˆ æ‰äº† ascii_segmentor
# åˆ æ‰äº† filters
# selector æå‰ï¼Œæ–¹ä¾¿;æ¬¡é€‰åŠ'ä¸€é€‰
engine:
  processors:
    - recognizer
    - key_binder
    - speller
    - selector
    - punctuator
    - navigator
    - express_editor
  segmentors:
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator

# å¢åŠ äº† :./-=_+ ä½œä¸ºè¾“å…¥ç 
# ä¾¿äºåœ¨æ‰“å­—ä¸­ï¼Œä¸ä¸­æ–­åœ°è¾“å…¥ 3.14ã€2:00-3:00 ç­‰
speller:
  alphabet: 'zyxwvutsrqponmlkjihgfedcba0987654321:./-=_+'
  algebra:
    - erase/^xx$/
    - derive/^([jqxy])u$/$1v/
    - derive/^([aoe])([ioun])$/$1$1$2/
    - xform/^([aoe])(ng)?$/$1$1$2/
    - xform/iu$/Q/
    - xform/(.)ei$/$1W/
    - xform/uan$/R/
    - xform/[uv]e$/T/
    - xform/un$/Y/
    - xform/^sh/U/
    - xform/^ch/I/
    - xform/^zh/V/
    - xform/uo$/O/
    - xform/ie$/P/
    - xform/i?ong$/S/
    - xform/ing$|uai$/K/
    - xform/(.)ai$/$1D/
    - xform/(.)en$/$1F/
    - xform/(.)eng$/$1G/
    - xform/[iu]ang$/L/
    - xform/(.)ang$/$1H/
    - xform/ian$/M/
    - xform/(.)an$/$1J/
    - xform/(.)ou$/$1Z/
    - xform/[iu]a$/X/
    - xform/iao$/N/
    - xform/(.)ao$/$1C/
    - xform/ui$/V/
    - xform/in$/B/
    - xlit/QWRTYUIOPSDFGHJKLZXCVBNM/qwrtyuiopsdfghjklzxcvbnm/

# å½“å‰åªæœ‰å…«è‚¡æ–‡ç®€åŒ–å­—å’Œè¢–çç®€åŒ–å­—è¯åº“
# å…¶å®ƒè¯åº“ï¼Œåœ¨ extended ä¸­å¢åŠ å¼•ç”¨
# ç¹ä½“è¯åº“ç¼–è¯‘é”™è¯¯ï¼Œéœ€è¦ä¿®æ”¹å‰é¢çš„ switcher å’Œ filters
# å¢åŠ å…«è‚¡æ–‡ç®€åŒ–å­—è¯­è¨€æ¨¡å‹ï¼Œä¼˜åŒ–é•¿å¥è¾“å…¥
translator:
  dictionary: extended
  prism: placeless_flypy
  contextual_suggestions: true
  max_homophones: 7

grammar:
  language: zh-hans-t-essay-bgw

# æ— å‰ç¼€è¾“å…¥ç®€å•çš„é¢„åˆ¶è¡¨æƒ…å’Œé”®ç›˜ç¬¦å·
# å°é¹¤åŒæ‹¼æ²¡æœ‰ bq å’Œ kb çš„ç¼–ç 
punctuator:
  import_preset: default
  symbols:
    "bq": [ğŸ˜‚ï¸, ğŸ˜…ï¸, ğŸ‰, ğŸ‚, ğŸ˜±ï¸, ğŸ‘Œ, ğŸ˜‡ï¸, ğŸ™ƒï¸, ğŸ¤”ï¸, ğŸ’Šï¸, ğŸ’¯ï¸, ğŸ‘ï¸, ğŸ™ˆï¸, ğŸ’©ï¸, ğŸ˜ˆï¸ ]
    "kb": [âŒ˜, âŒ¥, â‡§, âŒƒ, â‹, â‡ª, ï£¿, âŒ«, âŒ¦, â†©ï¸, â, â†‘, â†“, â†, â†’, â†–, â†˜, â‡Ÿ, â‡]
  half_shape:
    "\\" : "ã€"
    "#" : "#"
    "@" : "@"
    "~": "~"
    "/": "/"
    "'": {pair: ["ã€Œ", "ã€"]}
    "[": "["
    "]": "]"
    "{": "{"
    "}": "}"
    "*": "*"
    "%": "%"
    "<" : ["<", "ã€Š"]
    ">" : [">", "ã€‹"]

recognizer:
  import_preset: default
  patterns:
    punct: "^(bq|kb)$"

# ğŸ’Šï¸ï¼Œåªæä¾›ä¸¤ä¸ªå€™é€‰é¡¹
# åˆ†å·æ¬¡é€‰ï¼Œç©ºæ ¼æˆ–å¼•å·ä¸€é€‰
# é¦–å°¾è¡”æ¥ï¼Œè½®å›ç¿»é¡µ
menu:
  page_size: 2
  alternative_select_keys: "';"
  page_down_cycle: true

# Tabã€Shift+Tab ä¸Šä¸‹ç¿»é¡µ
# Control+pã€Control+n ä¸Šä¸‹ç¿»é¡µ
# Control+k = Escï¼Œæ¸…é™¤æ‰€æœ‰è¾“å…¥
key_binder:
  bindings:
    - { when: composing, accept: Tab,        send: Page_Down }
    - { when: composing, accept: Shift+Tab,  send: Page_Up }
    - { when: composing, accept: Control+k,  send: Escape }
    - { when: composing, accept: Control+p,  send: Page_Up }
    - { when: composing, accept: Control+n,  send: Page_Down }
```

### å­—è¯åº“

extended.dict.yaml 

å…«è‚¡æ–‡ç®€åŒ–å­— + è¢–çç®€åŒ–å­—ï¼Œä¸ªäººæš‚æ—¶å¤Ÿç”¨ã€‚å¦‚å¤–æŒ‚å…¶å®ƒç½‘ç»œè¯åº“ï¼Œé‡åˆ°ç¹ç®€æ··åˆï¼Œå¯èƒ½ä¼šç¼–è¯‘é”™è¯¯ï¼Œéœ€è¦åœ¨ä¸Šè¾¹çš„æ–¹æ¡ˆé‡Œï¼ŒåŠ å…¥å¯¹åº”çš„ switcher å’Œ filters è°ƒç”¨ opencc è¿›è¡Œç¹ç®€å¤„ç†ã€‚

<img src="/files/2021/rime_octagram_1.png" alt="squirrel_octagram_screenshot_1" width="50%">
<img src="/files/2021/rime_octagram_2.png" alt="squirrel_octagram_screenshot_2" width="70%">

```yaml
# Rime dictionary
# encoding: utf-8

---
name: extended
version: "2020.12.30"
sort: by_weight  # original, by_weight
vocabulary: essay-zh-hans
use_preset_vocabulary: true

import_tables:
  - pinyin_simp
...
```

pinyin_simp.dict.yaml 

ä¸ºäº†åœ¨é•¿å¥ä¸­æ–‡ä¸­é¡ºç•…è¾“å…¥æ•°å­—å’Œå¸¸ç”¨ç¬¦å·ï¼ŒåŠ å…¥äº†ä¸€äº›åœŸæ–¹ã€‚å…¶ä¸­çš„..æ˜¯åŒå‡»å¥å·è¾“å…¥å…¨è§’å¥å·ã€‚

```yaml
# Rime dictionary
# encoding: utf-8
#

---
name: pinyin_simp
version: "0.2"
sort: by_weight
...

# ä¸ªäººåœŸæ–¹
.	.	2
ã€‚	..	1
:	:	2
ï¼š	::		1
/	/	1
-	-	2
_	_	1
=	=	2
+	+	1
0	0	1
1	1	1
2	2	1
3	3	1
4	4	1
5	5	1
6	6	1
7	7	1
8	8	1
9	9	1
# zh_simp ç²¾ç®€ -> 8105
```



### æ–¹æ¡ˆé€‰å• 

default.custom.yaml 

```yaml
patch:
  schema_list:
    - schema: placeless_flypy
  switcher/hotkeys:
    - "Control+grave"
```

### å¾®è°ƒä¸»é¢˜

squirrel.custom.yaml

```yaml
patch:
  # é€šçŸ¥æ æ˜¾ç¤ºæ–¹å¼ä»¥åŠ ascii_mode åº”ç”¨ï¼Œä¸å¤–è§‚æ— å…³
  show_notifications_via_notification_center: true

  # ä»¥ä¸‹è½¯ä»¶é»˜è®¤è‹±æ–‡æ¨¡å¼
  app_options: {}

  style:
    color_scheme: apathy
    horizontal: true # deprecated

  preset_color_schemes:
    apathy:
      author: "LIANG Hai"
      border_height: 6
      border_width: 4
      candidate_list_layout: linear # stacked | linear
      text_orientation: horizontal
      inline_preedit: true
      candidate_format: "%c\u2005%@\u2005"
      comment_text_color: 0x999999
      corner_radius: 5
      font_face: PingFangSC
      font_point: 17
      label_font_point: 1
      back_color: 0xFFFFFF
      text_color: 0x424242
      label_color: 0xFFFFFF
      hilited_candidate_back_color: 0xFFF0E4
      hilited_candidate_text_color: 0xEE6E00
      hilited_candidate_label_color: 0xFFF0E4
      # alpha: 0.95
      name: "å†·æ¼ ï¼Apathy"
```

### å…¶å®ƒé…ä»¶

å‰ªè£è¿‡çš„å­—è¯åº“å’Œè¯­è¨€æ¨¡å‹æ–‡ä»¶ã€‚

```
- essay-zh-hans.txt
- pinyin_simp.dict.yaml
- zh-hans-t-essay-bgw.gram
```

### æˆå“å‚è€ƒ

[placeless](https://github.com/placeless)/**[squirrel_config](https://github.com/placeless/squirrel_config)**

